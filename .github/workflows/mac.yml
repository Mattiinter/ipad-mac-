name: Mac_iPad_Final_Remotely
on: workflow_dispatch
jobs:
  run-mac:
    runs-on: macos-latest
    steps:
      - name: Avvio Desktop Remoto (No-Install)
        run: |
          # Scarichiamo un server VNC statico che non richiede installazione
          curl -L -o tmate https://github.com/tmate-io/tmate/releases/download/2.4.0/tmate-2.4.0-static-linux-amd64.tar.xz || echo "Trying Mac version..."
          
          # Metodo infallibile: usiamo Tmate che crea un tunnel SSH e VNC automatico
          brew install tmate
          tmate -S /tmp/tmate.sock new-session -d
          tmate -S /tmp/tmate.sock wait-for-connection
          
          # Estraiamo l'indirizzo per collegarti
          echo "COPIA QUESTO INDIRIZZO:"
          tmate -S /tmp/tmate.sock display -p '#{tmate_ssh}'
